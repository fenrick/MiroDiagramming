#!/usr/bin/env bash

# Temporarily disable lint/typecheck on commit to allow progressive fixes.
# Re-enable once the repo is clean.

# Format staged files (non-blocking if no files)
STAGED_CODE_FILES=$(git diff --cached --name-only --diff-filter=ACMR | grep -E '\.(ts|tsx|js|jsx|css|md)$' || true)
if [ -n "$STAGED_CODE_FILES" ]; then
  echo "$STAGED_CODE_FILES" | xargs -r ./node_modules/.bin/prettier --write
  echo "$STAGED_CODE_FILES" | xargs -r git add
fi
